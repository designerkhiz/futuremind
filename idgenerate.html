<!DOCTYPE html><html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ID Card Generator ‚Äî Single File</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --primary:#2563eb; --accent:#0ea5e9; --text:#0f172a; --muted:#64748b; --bg:#f8fafc; --card:#ffffff;
  }
  *{box-sizing:border-box} html,body{height:100%;}
  body{  display: flex;
  justify-content: center;   /* horizontal center */
  align-items: center;       /* vertical center */
  min-height: 100vh;         /* full screen height */
  background: #f0f0f0;       /* optional background */
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; font-family: 'Montserrat', sans-serif;background: var(--bg); color: var(--text);}

  .app{display:grid; grid-template-columns: 380px 1fr; gap:24px; padding:24px; max-width:1200px; margin:auto;}
  .panel{background:var(--card); border-radius:16px; box-shadow:0 6px 24px rgba(2,6,23,.08);}
  .panel h2{margin:0; padding:16px 18px; border-bottom:1px solid #eef2f7; font-size:18px}
  .panel .content{padding:16px 18px;}

  label{display:block; font-size:12px; color:var(--muted); margin-bottom:6px}
  input[type="text"], input[type="date"], input[type="tel"], select{
    width:100%; padding:10px 12px; border:1px solid #e2e8f0; border-radius:10px; outline:none; font-size:14px; background:#fff; color:inherit;
  }
  .row{display:grid; grid-template-columns:1fr 1fr; gap:12px}
  .mb{margin-bottom:12px}

  .upload{display:flex; gap:10px; align-items:center; justify-content:space-between; border:1px dashed #cbd5e1; padding:10px; border-radius:10px; background:#f9fafb}
  .upload input{max-width:60%}
  .hint{font-size:12px; color:var(--muted)}

  .btns{display:flex; flex-wrap:wrap; gap:10px; margin-top:12px}
  button{border:0; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; box-shadow:0 4px 12px rgba(2,6,23,.06); background: var(--primary); color:#fff;}
  button.secondary{background:#e2e8f0; color:#0f172a}
  button.outline{background:#fff; border:1px solid #e2e8f0; color:#0f172a}

  /* PREVIEW AREA */
  .preview-wrap{display:grid; grid-template-columns:1fr 1fr; gap:18px; padding:18px}
  .card-shadow{padding:12px; background:linear-gradient(180deg,#f1f5f9, #fff); border-radius:16px; box-shadow:inset 0 1px 0 rgba(255,255,255,.6), 0 20px 40px rgba(2,6,23,.08)}
  .scale-note{font-size:12px; color:var(--muted); text-align:center; margin-top:8px}

  /* ID CARD SIZE (CR-80): 1011 x 638 px ~ 300 DPI */
  
  /* Background / Brand */
  .bg{position:absolute; inset:0; background: radial-gradient(1200px 600px at -10% 110%, var(--accent) 0%, transparent 70%), linear-gradient(135deg, var(--primary), #1d4ed8 60%, #0e7490 100%); opacity:.12;}
  .brand-bar{position:absolute; left:0; top:0; width:100%; height:88px; background:linear-gradient(90deg, var(--primary), var(--accent));}

    .logo img{height:52px; width:auto; object-fit:contain; filter: drop-shadow(0 2px 6px rgba(0,0,0,.2));}
  /* allow the text to shrink and not wrap */
  

  .title{position:absolute; right:28px; top:18px; color:#eaf2ff; text-align:right; font-size:14px; letter-spacing:.8px}

  .photo{position:absolute; left:36px; top:130px; width:280px; height:360px; border-radius:18px; overflow:hidden; border:4px solid rgba(226,232,240,.9);  box-shadow:0 10px 24px rgba(2,6,23,.12)}
  .photo img{width:100%; height:100%; object-fit:cover}

  .details{position:absolute; left:344px; top:130px; right:36px; bottom:150px; display:grid; grid-template-columns: 1fr 1fr; gap:10px 18px}
  .field{background:#ffffffcc; backdrop-filter:saturate(140%) blur(1px); border:1px solid #e2e8f0; border-radius:12px; padding:12px 14px}
  .label{font-size:11px; color:#64748b; text-transform:uppercase; letter-spacing:.7px}
  .value{font-size:20px; font-weight:700; margin-top:2px}

  .footer{position:absolute; left:0; right:0; bottom:0; height:118px; background:linear-gradient(90deg,#f1f5f9,#fff); border-top:1px solid #e2e8f0; display:flex; align-items:center; justify-content:space-between; padding:0 28px}
  .signature{display:flex; align-items:center; gap:12px}
  .signature img{height:42px}
  .qr{width:96px; height:96px; border:1px solid #e2e8f0; border-radius:10px; overflow:hidden}
  .qr img{width:100%; height:100%; object-fit:contain}

  .idnum{position:absolute; right:28px; top:94px; font-weight:800; font-size:18px; color:#0f172a; background:#ffffff; padding:6px 10px; border-radius:10px; border:1px solid #e2e8f0}
  .chip{position:absolute; left:36px; top:520px; width:64px; height:44px; border-radius:8px; background:linear-gradient(160deg,#d1d5db,#f3f4f6); border:1px solid #cbd5e1}

  @media (max-width: 980px){
    .app{grid-template-columns:1fr;}
    .preview-wrap{grid-template-columns:1fr}
  }
  .logo{
  position:absolute; left:28px; top:18px; width:calc(100% - 56px); height:52px;
  display:flex; align-items:center; gap:10px;
  /* ‚ùå ye line hata do: justify-content:center; */
  color:#fff; font-weight:800; letter-spacing:.4px;
  overflow:hidden;
}


#orgName {
  color: #fff;
  font-weight: 800;
  font-size: 26px;
  line-height: 2;
  font-family: 'Montserrat', sans-serif;
  letter-spacing: 1px;
}

/* Default Laptop/Desktop */
.id-card {
  width: 1024px;
  height: 738px;
  margin: auto;
  position: relative;
  border-radius: 24px;
  overflow: hidden;
  background: #fff;
  transform: scale(.55);
  transform-origin: top center;
}

/* Tablet (768px‚Äì1024px) */
@media (max-width: 1024px) and (min-width: 799px) {
  .id-card {
    transform: scale(.75);
    transform-origin: top center;
  }
}

/* üì± Mobile phones (<768px) */
@media (max-width: 800px) {
  .id-card {
    transform: none !important;   /* ‚úÖ force remove scaling */
    width: 100%;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
  }

  .photo {
    width: 140px;
    height: 180px;
  }

  .details {
    grid-template-columns: 1fr;
    gap: 6px;
  }

  .field .label { font-size: 12px; }
  .field .value { font-size: 14px; font-weight: 600; }
}



</style>
</head>
<body>
<div class="app">
  <section class="panel">
    <h2>Inputs</h2>
    <div class="content">
      <div class="mb">
        <label>Primary Color</label>
        <input type="color" id="primaryColor" value="#2563eb"/>
      </div>
      <div class="mb">
        <label>Accent Color</label>
        <input type="color" id="accentColor" value="#0ea5e9"/>
      </div>

      <div class="mb"><label>Organization</label><input id="org" type="text" placeholder="FutureMind Academy" value="Future Mind Academy"/></div>
      <select id="themePreset">
  <option value="blue">Blue</option>
  <option value="green">Green</option>
  <option value="red">Red</option>
</select>

      <!-- EXTRA CONTROLS (put inside Inputs panel where you want) -->
<div class="mb">
  <label>Org Text Align</label>
  <select id="orgAlign">
    <option value="left" selected>Left</option>
    <option value="center">Center</option>
    <option value="right">Right</option>
  </select>
</div>
<div class="row mb">
  <div>
    <label>Org Font Size</label>
    <input id="orgFontSize" type="number" min="12" max="60" value="26"/>
  </div>
  <div>
    <label>Org Color</label>
    <input id="orgColor" type="color" value="#ffffff"/>
  </div>
</div>

      <!-- NEW: single-line toggle -->
      <div class="mb" style="display:flex; align-items:center; gap:8px">
        <input type="checkbox" id="orgOneLine" checked />
        <label for="orgOneLine" style="margin:0">Keep org name on one line (auto-shrink)</label>
      </div>

      <div class="row mb">
        <div><label>Full Name</label><input id="fullName" type="text" placeholder="Your Name" value="Kenzo King"/></div>
        <div><label>Designation</label><input id="designation" type="text" placeholder="Student / Developer / Manager" value="Developer"/></div>
      </div>
      <div class="row mb">
        <div><label>Department</label><input id="department" type="text" placeholder="Engineering" value="Product"/></div>
        <div><label>Employee / Student ID</label><input id="idNumber" type="text" placeholder="FM-24-001" value="FM-24-001"/></div>
      </div>
      <div class="row mb">
        <div><label>Issue Date</label><input id="issueDate" type="date"/></div>
        <div><label>Valid Thru</label><input id="validDate" type="date"/></div>
      </div>
      <div class="row mb">
        <div><label>Phone</label><input id="phone" type="tel" placeholder="+91 98765 43210"/></div>
        <div><label>Blood Group</label><input id="blood" type="text" placeholder="O+"/></div>
      </div>
      <div class="mb"><label>Address</label><input id="address" type="text" placeholder="City, State"/></div>

      <div class="mb">
        <div class="upload">
          <div>
            <strong>Photo</strong>
            <div class="hint">Recommended 400√ó520px, vertical</div>
          </div>
          <input id="photoInput" type="file" accept="image/*"/>
        </div>
      </div>
      <div class="mb">
        <div class="upload">
          <div>
            <strong>Logo (optional)</strong>
            <div class="hint">Transparent PNG looks best</div>
          </div>
          <input id="logoInput" type="file" accept="image/*"/>
        </div>
      </div>
      <div class="mb">
        <div class="upload">
          <div>
            <strong>Signature (optional)</strong>
            <div class="hint">Transparent PNG</div>
          </div>
          <input id="signInput" type="file" accept="image/*"/>
        </div>
      </div>
      <div class="mb">
        <div class="upload">
          <div>
            <strong>QR (optional)</strong>
            <div class="hint">Upload your QR image</div>
          </div>
          <input id="qrInput" type="file" accept="image/*"/>
        </div>
      </div>

      <div class="btns">
        <button id="applyBtn">Apply to Card</button>
        <button class="secondary" id="clearBtn" type="button">Clear All</button>
        <button class="outline" id="downloadPNGBtn" type="button">Download PNG</button>
        <button class="outline" id="downloadPDFBtn" type="button">Download PDF</button>
      </div>
      <p class="hint" style="margin-top:10px">Note: This creates a visual/mock ID card for design/demo/event use. It does not verify or issue any official ID.</p>
    </div>
  </section>

  <section class="panel">
    <h2>Live Preview</h2>
    <div class="preview-wrap">
      <div class="card-shadow">
        <div id="id-card" class="id-card">
   <!-- andar photo, naam, text etc. -->


          <div class="bg"></div>
          <div class="brand-bar"></div>

          <div class="logo" id="logoBox">
            <img id="logoImg" alt="" style="display:none"/>
            <span id="orgName">FutureMind Academy</span>
          </div>

          <div class="title">
            <div style="font-weight:800; font-size:18px; line-height:1">IDENTITY CARD</div>
            <div style="opacity:.85">Authorised Personnel</div>
          </div>

          <div class="idnum" id="idNumBox">FM-24-001</div>

          <div class="photo"><img id="photoImg" src="" alt="Photo"/></div>

          <div class="details">
            <div class="field" style="grid-column: span 2">
              <div class="label">Full Name</div>
              <div class="value" id="v_name">Kenzo King</div>
            </div>
            <div class="field">
              <div class="label">Designation</div>
              <div class="value" id="v_role">Developer</div>
            </div>
            <div class="field">
              <div class="label">Department</div>
              <div class="value" id="v_dept">Product</div>
            </div>
            <div class="field">
              <div class="label">Issued</div>
              <div class="value" id="v_issue">‚Äî</div>
            </div>
            <div class="field">
              <div class="label">Valid Thru</div>
              <div class="value" id="v_valid">‚Äî</div>
            </div>
            <div class="field">
              <div class="label">Phone</div>
              <div class="value" id="v_phone">‚Äî</div>
            </div>
            <div class="field">
              <div class="label">Blood</div>
              <div class="value" id="v_blood">‚Äî</div>
            </div>
            <div class="field" style="grid-column: span 2">
              <div class="label">Address</div>
              <div class="value" id="v_addr">‚Äî</div>
            </div>
          </div>

          <div class="chip"></div>

          <div class="footer">
            <div class="signature">
              <div style="font-size:12px; color:#64748b">Authorised Sign</div>
              <img id="signImg" alt="" style="display:none"/>
            </div>
            <div class="qr" id="qrBox">
              <img id="qrImg" alt="" style="display:none"/>
            </div>
          </div>
        </div>
        <div class="scale-note">Preview is shown at 50% scale for convenience. Exported image/PDF will be full quality (1011√ó638px).</div>
      </div>
    </div>
  </section>
</div>

<!-- Libraries for export (loaded from CDN) -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script>
  // Utility: read file input to <img>
  function bindImageInput(inputEl, imgEl, onToggle){
    inputEl.addEventListener('change', () => {
      const f = inputEl.files && inputEl.files[0];
      if(!f){ imgEl.removeAttribute('src'); imgEl.style.display='none'; if(onToggle) onToggle(false); return; }
      const reader = new FileReader();
      reader.onload = e => { imgEl.src = e.target.result; imgEl.style.display='block'; if(onToggle) onToggle(true); };
      reader.readAsDataURL(f);
    });
  }

  const el = id => document.getElementById(id);

  // Inputs
  const primaryColor = el('primaryColor');
  const accentColor   = el('accentColor');
  const org           = el('org');
  const orgOneLine    = el('orgOneLine'); // NEW
  const fullName      = el('fullName');
  const designation   = el('designation');
  const department    = el('department');
  const idNumber      = el('idNumber');
  const issueDate     = el('issueDate');
  const validDate     = el('validDate');
  const phone         = el('phone');
  const blood         = el('blood');
  const address       = el('address');

  // Preview elements
  const orgName  = el('orgName');
  const v_name   = el('v_name');
  const v_role   = el('v_role');
  const v_dept   = el('v_dept');
  const v_issue  = el('v_issue');
  const v_valid  = el('v_valid');
  const v_phone  = el('v_phone');
  const v_blood  = el('v_blood');
  const v_addr   = el('v_addr');
  const idNumBox = el('idNumBox');

  const logoImg  = el('logoImg');
  const signImg  = el('signImg');
  const photoImg = el('photoImg');
  const qrImg    = el('qrImg');

  bindImageInput(el('logoInput'), logoImg, () => fitOrgIfNeeded());
bindImageInput(el('signInput'), signImg);
bindImageInput(el('photoInput'), photoImg);
bindImageInput(el('qrInput'),   qrImg);

  // Auto-fit org text to one line (shrink font-size but not below 12px)
  function fitOneLine(span, {max=34, min=22}={}){
    span.style.whiteSpace = 'nowrap';
    span.style.overflow = 'hidden';
    span.style.textOverflow = 'ellipsis';
    span.style.fontSize = max + 'px';

    // Allow layout to settle
    const maxSteps = 20;
    let steps = 0;
    while (span.scrollWidth > span.clientWidth && steps < maxSteps){
      const current = parseFloat(getComputedStyle(span).fontSize);
      if(current <= min) break;
      span.style.fontSize = Math.max(min, current - 1) + 'px';
      steps++;
    }
  }

  function fitOrgIfNeeded(){
    if(orgOneLine.checked){
      fitOneLine(orgName, {max:32, min:22});
    }else{
      orgName.style.whiteSpace = ''; // allow wrap
      orgName.style.fontSize = '28px';
    }
  }

  

  el('applyBtn').addEventListener('click', applyToCard);

  el('clearBtn').addEventListener('click', () => {
    for(const node of document.querySelectorAll('input[type="text"], input[type="date"], input[type="tel"]')) node.value='';
    for(const file of ['photoInput','logoInput','signInput','qrInput']){
      const inp = el(file); inp.value='';
    }
    photoImg.removeAttribute('src'); photoImg.style.display='';
    logoImg.removeAttribute('src');  logoImg.style.display='none';
    signImg.removeAttribute('src');  signImg.style.display='none';
    qrImg.removeAttribute('src');    qrImg.style.display='none';
    applyToCard();
  });

  // Export helpers
  async function exportPNG(){
    const card = el('card');
    const prev = card.style.transform; const prevOrigin = card.style.transformOrigin;
    card.style.transform = 'none'; card.style.transformOrigin = 'top left';
    const canvas = await html2canvas(card, {backgroundColor: null, scale: 2});
    card.style.transform = prev; card.style.transformOrigin = prevOrigin;

    const data = canvas.toDataURL('image/png');
    const a = document.createElement('a');
    a.href = data; a.download = (idNumber.value || 'id-card') + '.png';
    a.click();
  }

  async function exportPDF(){
    const card = el('card');
    const prev = card.style.transform; const prevOrigin = card.style.transformOrigin;
    card.style.transform = 'none'; card.style.transformOrigin = 'top left';
    const canvas = await html2canvas(card, {backgroundColor: '#ffffff', scale: 2});
    card.style.transform = prev; card.style.transformOrigin = prevOrigin;

    const imgData = canvas.toDataURL('image/png');
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF({ orientation: 'landscape', unit: 'mm', format: [86, 54] });
    const pageW = 86, pageH = 54;
    const margin = 2;
    const drawW = pageW - margin*2;
    const drawH = drawW * (638/1011);
    const y = (pageH - drawH)/2;
    doc.addImage(imgData, 'PNG', margin, y, drawW, drawH);
    doc.save((idNumber.value || 'id-card') + '.pdf');
  }

  el('downloadPNGBtn').addEventListener('click', exportPNG);
  el('downloadPDFBtn').addEventListener('click', exportPDF);

  // Initialize
 
  // --- Org styling controls ek hi baar declare karo ---
const orgAlign    = el('orgAlign');
const orgFontSize = el('orgFontSize');
const orgColor    = el('orgColor');

// --- ye helper function hamesha bahar hi rakho ---
function applyOrgStyle(){
  const alignVal = orgAlign.value;
  const logoBox = document.getElementById('logoBox');

  logoBox.style.justifyContent =
    alignVal==='center' ? 'center' :
    alignVal==='right'  ? 'flex-end' : 'flex-start';

  orgName.style.fontSize = orgFontSize.value + 'px';
  orgName.style.color    = orgColor.value;
}


// --- main function ---
function applyToCard(){
  document.documentElement.style.setProperty('--primary', primaryColor.value);
  document.documentElement.style.setProperty('--accent',  accentColor.value);

  orgName.textContent = org.value || '‚Äî';
  v_name.textContent  = fullName.value || '‚Äî';
  v_role.textContent  = designation.value || '‚Äî';
  v_dept.textContent  = department.value || '‚Äî';

  idNumBox.textContent = idNumber.value || '‚Äî';

  const dateFmt = s => {
    if(!s) return '‚Äî';
    try{ 
      const d = new Date(s); 
      return d.toLocaleDateString(undefined,{year:'numeric', month:'short', day:'2-digit'}); 
    }catch{ return s }
  };
  v_issue.textContent = dateFmt(issueDate.value);
  v_valid.textContent = dateFmt(validDate.value);

  v_phone.textContent = phone.value || '‚Äî';
  v_blood.textContent = blood.value || '‚Äî';
  v_addr.textContent  = address.value || '‚Äî';

  // ‚úÖ dono call karo
  fitOrgIfNeeded();
  applyOrgStyle();
}

// live update ek hi baar lagao
[orgAlign, orgFontSize, orgColor].forEach(node=>{
  node.addEventListener('input', applyToCard);
  node.addEventListener('change', applyToCard);
});



  // --- Auto update live preview ---
  for(const node of document.querySelectorAll(
    '#primaryColor, #accentColor, #org, #fullName, #designation, #department, #idNumber, #issueDate, #validDate, #phone, #blood, #address, #orgOneLine'
  )){
    node.addEventListener('input', applyToCard);
    node.addEventListener('change', applyToCard);
  }

  function capitalize(str){
  return str.replace(/\b\w/g, l => l.toUpperCase());
}
v_name.textContent = capitalize(fullName.value) || '‚Äî';


// Page load hone par default set karo
window.addEventListener("DOMContentLoaded", () => {
  if (!org.value.trim()) {
    org.value = "Future Mind Academy";
  }
  orgName.textContent = org.value;
  applyToCard();
});

el('themePreset').addEventListener('change', e=>{
  if(e.target.value==='green'){
    primaryColor.value="#16a34a"; accentColor.value="#22c55e";
  } else if(e.target.value==='red'){
    primaryColor.value="#dc2626"; accentColor.value="#ef4444";
  } else {
    primaryColor.value="#2563eb"; accentColor.value="#0ea5e9";
  }
  applyToCard();
});

  // Save on input
document.querySelectorAll('input, select').forEach(inp=>{
  inp.addEventListener('input', ()=>{
    localStorage.setItem(inp.id, inp.value);
  });
});
// Restore on load
window.addEventListener("DOMContentLoaded", ()=>{
  document.querySelectorAll('input, select').forEach(inp=>{
    if(localStorage.getItem(inp.id)){
      inp.value = localStorage.getItem(inp.id);
    }
  });
  applyToCard();
});
async function exportPNG(){
  const card = document.getElementById('id-card');   // ‚úÖ correct id
  const prev = card.style.transform; 
  const prevOrigin = card.style.transformOrigin;

  // temporarily remove scale
  card.style.transform = 'none'; 
  card.style.transformOrigin = 'top left';

  const canvas = await html2canvas(card, {backgroundColor: null, scale: 2});

  // restore scale
  card.style.transform = prev; 
  card.style.transformOrigin = prevOrigin;

  const link = document.createElement('a');
  link.download = (idNumber.value || 'id-card') + '.png';
  link.href = canvas.toDataURL('image/png');
  link.click();
}

async function exportPDF(){
  const card = document.getElementById('id-card');   // ‚úÖ correct id
  const prev = card.style.transform; 
  const prevOrigin = card.style.transformOrigin;

  card.style.transform = 'none'; 
  card.style.transformOrigin = 'top left';

  const canvas = await html2canvas(card, {backgroundColor: '#ffffff', scale: 2});

  card.style.transform = prev; 
  card.style.transformOrigin = prevOrigin;

  const imgData = canvas.toDataURL('image/png');
  const { jsPDF } = window.jspdf;

  // Card ke exact pixel size ke hisaab se
  const pdf = new jsPDF("landscape", "pt", [1011, 638]);
  pdf.addImage(imgData, 'PNG', 0, 0, 1011, 638);
  pdf.save((idNumber.value || 'id-card') + '.pdf');
}


</script>
</body>
</html>
